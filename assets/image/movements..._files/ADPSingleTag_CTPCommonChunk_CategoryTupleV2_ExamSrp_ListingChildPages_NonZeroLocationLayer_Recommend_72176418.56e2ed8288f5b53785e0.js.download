(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[12,223],{269:function(e,t,n){"use strict";n.r(t);var a=n(41),s=n.n(a),l=n(42),i=n.n(l),a=n(97),r=n.n(a),l=n(43),o=n.n(l),a=n(44),c=n.n(a),l=n(29),p=n.n(l),a=n(5),u=n.n(a),l=n(0),d=n.n(l),a=n(52),l=n.n(a),h=n(216),m=n(45);function f(n){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=p()(n);return t=a?(e=p()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),c()(this,t)}}a=function(e){o()(r,e);var t=f(r);function r(e){return s()(this,r),(e=t.call(this,e)).state={data:{},filter:!0},e}return i()(r,[{key:"componentDidMount",value:function(){this.setState({data:this.props.data})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){0<e.searchText.length?this.filterDisplayList(e.searchText):this.setState({data:e.data})}},{key:"filterDisplayList",value:function(n){var a=this.props.data;Object.filter=function(e,t){return Object.keys(e).map(function(e){return a[e].filter(function(e,t){return-1!==e.name.toLowerCase().indexOf(n.toLowerCase())})})};var e,t=Object.filter(a,n),s={},l=Object.keys(this.props.data);for(e in t)0<t[e].length&&(s[l[e]]=t[e]);this.setState({data:s})}},{key:"handleOptionClick",value:function(e,t){var n=this.props,a=n.onClick,n=n.onCloseLayer;a(t,e),n()}},{key:"render",value:function(){var n=this.props.isAnchorLink;if(null==this.state.data||0==Object.keys(this.state.data))return d.a.createElement("div",{className:"noResult-found"},"Sorry, no ",this.props.layerType,' found for your query "',this.props.searchText,'"');var a=this.state.data,s=this.props.showSubHeading,l=this;return d.a.createElement("div",{className:"pwa-cont pad"},Object.keys(a).map(function(e,t){return d.a.createElement("div",{key:t},null!=a[e]&&0<a[e].length?d.a.createElement(d.a.Fragment,null,s?d.a.createElement("strong",{key:t},r.formatHeadings(e)):"",d.a.createElement("ul",{key:"ul"+t,className:"pad10-l"},a[e].map(function(e,t){return n?void 0!==e.shikshaUrl&&"relative"===e.shikshaUrl.urlHost?d.a.createElement("li",{key:t},d.a.createElement(h.a,{to:e.shikshaUrl.url,onClick:l.props.onCloseLayer,className:"block"},e.name)):d.a.createElement("li",{key:t},d.a.createElement(h.a,{link:l.props.isLink,onClick:l.props.isLink?l.props.onCloseLayer:null,className:"block",to:l.props.isLink?Object(m.g)(e.url):e.url},e.name)):d.a.createElement("li",{key:t,onClick:l.handleOptionClick.bind(l,e)}," ",e.name," ")}))):"")}))}}],[{key:"formatHeadings",value:function(e){if(e&&0!=e.length)return e.replace(/([A-Z])/g," $1").replace(/^(.)*/,function(e){return e.charAt(0).toUpperCase()+e.substring(1)})}}]),r}(d.a.Component);a.defaultProps={isLink:!1};var y=a;n(320);function v(n){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=p()(n);return t=a?(e=p()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),c()(this,t)}}var k=function(e){o()(l,e);var t=v(l);function l(e){return s()(this,l),(e=t.call(this,e)).state={data:{},filter:!0,render:!1,isSearchText:!1},e.selectedOptions=new Array,e.showSelected=new Array,e.removeAllSeclectedFilters=e.removeAllSeclectedFilters.bind(r()(e)),e}return i()(l,[{key:"componentDidMount",value:function(){this.setState({data:this.props.data}),this.setPopupHeight()}},{key:"componentDidUpdate",value:function(){for(var e=document.getElementsByClassName("drpdwn-li").length,t=0;t<e;t++)document.getElementsByClassName("drpdwn-li")[t].hasAttribute("style")&&document.getElementsByClassName("drpdwn-li")[t].removeAttribute("style");this.setPopupHeight()}},{key:"setPopupHeight",value:function(){var e,t,n,a;document.getElementById("option-wrapper")&&(e=parseInt(screen.height),t=document.getElementById("option-wrapper").getElementsByClassName("drpdwn-ul").length,n=document.getElementById("option-wrapper").getElementsByClassName("drpdwn-ul")[t-1].getElementsByTagName("li").length,a=document.getElementById("saveMultiSelect").offsetHeight,document.getElementById("mt55").style.maxHeight=e-120+"px",document.getElementById("option-wrapper").style.maxHeight=e-120+"px",e-120<document.getElementsByClassName("drpdwn-li").length*document.getElementsByClassName("drpdwn-li")[0].offsetHeight&&(document.getElementById("option-wrapper").getElementsByClassName("drpdwn-ul")[t-1].getElementsByTagName("li")[n-1].style.paddingBottom=parseInt(a)+"px"))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){console.log("componentWillReceiveProps"),0<e.searchText.length?this.filterDisplayList(e.searchText):this.setState({data:e.data,isSearchText:!1})}},{key:"filterDisplayList",value:function(n){var a=this.props.data;Object.filter=function(e,t){return Object.keys(e).map(function(e){return a[e].filter(function(e,t){return-1!==e.name.toLowerCase().indexOf(n.toLowerCase())})})};var e,t=Object.filter(a,n),s={},l=Object.keys(this.props.data);for(e in t)0<t[e].length&&(s[l[e]]=t[e]);this.setState({data:s,isSearchText:!0})}},{key:"handleLayerOptionClick",value:function(e,t){console.log("handleLayerOptionClick",e),this.isOptionSelected(e)?(console.log("removeFromSelectedOptions",e),this.removeFromSelectedOptions(e)):(console.log("addToSelectedOptions",e),this.addToSelectedOptions(t,e))}},{key:"addToSelectedOptions",value:function(e,t){this.isOptionSelected(t)||(this.selectedOptions.push({optionName:e,optionValue:t}),this.showSelected.push(t),this.setState({render:!0}))}},{key:"isOptionSelected",value:function(e){return this.showSelected.includes(e)}},{key:"renderSelectedOptionsHtml",value:function(){var t=this;if(!this.state.isSearchText){var e,n,a=[],s=[];for(e in this.selectedOptions)0==e?a.push(d.a.createElement("div",(n={key:"selected_"+e,className:"select-box"},u()(n,"key",this.selectedOptions[e].optionValue),u()(n,"onClick",this.removeFromSelectedOptions.bind(this,this.selectedOptions[e].optionValue)),n),this.selectedOptions[e].optionName," ",d.a.createElement("a",{href:"javascript:void(0)",className:"remove-city"},"×"))):s.push(d.a.createElement("div",(n={key:"selected_"+e,className:"select-box"},u()(n,"key",this.selectedOptions[e].optionValue),u()(n,"onClick",this.removeFromSelectedOptions.bind(this,this.selectedOptions[e].optionValue)),n),this.selectedOptions[e].optionName," ",d.a.createElement("a",{className:"remove-city",href:"javascript:void(0)"},"×")));return 0<s.length&&a.push(d.a.createElement("div",{key:"span",ref:function(e){return t.showAll=e},className:"hide sltd-fltOpt"},s)),!this.state.showAllSelected&&1<this.selectedOptions.length&&a.push(d.a.createElement("a",{key:"view-all",href:"javascript:void(0);","data-var":"1",className:"cnt-morLnk",ref:function(e){return t.showMore=e},onClick:this.showAllselectedOptions.bind(this,"hide")},"+",this.selectedOptions.length-1," more")),0==this.selectedOptions.length?null:d.a.createElement("div",{className:"ctp-filtr-selectn",id:"ctp-filtr-selectn"},d.a.createElement("a",{className:"clear-all",onClick:this.removeAllSeclectedFilters},"Clear All"),d.a.createElement("div",{className:"fltr-ovrflw"},d.a.createElement("div",{className:"selectd-fltr sltd-fltOpt"},a)))}}},{key:"showAllselectedOptions",value:function(e){this.showAll.classList.contains(e)&&(this.showAll.classList.remove(e),this.showAll.classList.add("d-i")),this.showMore.classList.contains(e)||this.showMore.classList.add(e)}},{key:"removeAllSeclectedFilters",value:function(){this.showSelected.map(function(e){document.getElementById(e).checked=!1}),this.showSelected=[],this.selectedOptions=new Array,this.setState({render:!0})}},{key:"removeFromSelectedOptions",value:function(t){var e=this.selectedOptions.filter(function(e){return!(e.optionValue==t)});this.selectedOptions=e;e=this.showSelected.indexOf(t);this.showSelected.splice(e,1),document.getElementById(t)&&setTimeout(function(){document.getElementById(t).checked=!1},0),this.setState({render:!0})}},{key:"handleOptionClick",value:function(e){(0,this.props.onClick)(event,e)}},{key:"onSubmit",value:function(){(0,this.props.onSubmit)(this.selectedOptions)}},{key:"render",value:function(){this.props.isAnchorLink;if(null==this.state.data||0==Object.keys(this.state.data))return d.a.createElement("div",{className:"noResult-found"},"Sorry, no ",this.props.layerType,' found for your query "',this.props.searchText,'"');var n=this.state.data,a=this.props.showSubHeading,s=this;return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"mt55",id:"mt55"},d.a.createElement("div",{className:"option-wrapper show",id:"option-wrapper","append-selected-value":"1"},d.a.createElement("div",{className:"selected-criteria-scrl",style:{display:"block"}},this.renderSelectedOptionsHtml()),Object.keys(n).map(function(e,t){return null!=n[e]&&0<n[e].length?d.a.createElement(d.a.Fragment,{key:"fg_"+t},a?d.a.createElement("strong",{key:t},l.formatHeadings(e)):"",d.a.createElement("ul",{className:"drpdwn-ul"},n[e].map(function(e,t){var n=e.filterType+"_"+e.id;return d.a.createElement("li",{key:t,className:"drpdwn-li"},d.a.createElement("div",{className:"Customcheckbox"},d.a.createElement("input",{type:"checkbox",className:"shikshaMultiSelect",id:e.filterType+"_"+e.id,value:e.name,checked:-1<s.showSelected.indexOf(n)?"checked":""}),d.a.createElement("label",{htmlFor:e.filterType+"_"+e.id,onClick:s.handleLayerOptionClick.bind(s,e.filterType+"_"+e.id,e.name)},e.name)))}))):""}))),d.a.createElement("div",{className:"done-btn"},d.a.createElement("input",{type:"button",id:"saveMultiSelect",showloaderondone:"false","data-select":"allIndiaCitySelect_input",className:"green-btn",value:"Done",onClick:this.onSubmit.bind(this)})))}}],[{key:"formatHeadings",value:function(e){if(e&&0!=e.length)return e.replace(/([A-Z])/g," $1").replace(/^(.)*/,function(e){return e.charAt(0).toUpperCase()+e.substring(1)})}}]),l}(d.a.Component),a=n(25),g=n.n(a),E=n(66);function w(n){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=p()(n);return t=a?(e=p()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),c()(this,t)}}n=function(e){o()(a,e);var n=w(a);function a(e){var t;return s()(this,a),t=n.call(this,e),u()(r()(t),"backHandle",function(){E.a.enableScrolling(),window.removeEventListener("popstate",t.backHandle)}),u()(r()(t),"getLayerHtml",function(){var e=t.props.instructionText;return d.a.createElement("div",{className:t.props.isDesktop?"singleLayer-container show":"singleLayer-container"},d.a.createElement("div",{className:"single-layer pwa-lyr"+(t.props.multiSelect?" multi-select":"")},d.a.createElement("div",{className:"pwa-hd"},d.a.createElement("p",{className:"flLt"},t.props.heading),d.a.createElement("a",{href:"javascript:void(0);",className:"lyr-crs",onClick:t.closePopUpLayer.bind(r()(t))},"×"),d.a.createElement("p",{className:"clr"})),t.renderCaptionMsg(),d.a.createElement("div",{className:"customSelectCountry"},t.props.search&&t.renderSearchTemplate(),e?d.a.createElement("p",{className:"instructText"},e):null,t.props.data&&0<Object.keys(t.props.data).length&&!t.props.multiSelect?d.a.createElement(y,{data:t.props.data,searchText:t.state.searchText,showSubHeading:t.props.showSubHeading,layerType:t.props.layerType,isAnchorLink:t.props.isAnchorLink,onClick:t.props.handleOptionClick,isLink:t.props.isLink,onCloseLayer:t.closeLayer.bind(r()(t))}):t.props.data&&0<Object.keys(t.props.data).length&&t.props.multiSelect?d.a.createElement(k,{data:t.props.data,searchText:t.state.searchText,showSubHeading:t.props.showSubHeading,layerType:t.props.layerType,isAnchorLink:t.props.isAnchorLink,onSubmit:t.props.onSubmit}):t.props.data?d.a.createElement("div",{style:{textAlign:"center",marginTop:"7px",marginBottom:"10px",display:"block"},id:"loader-id"},d.a.createElement("img",{border:"0",alt:"",id:"loadingImage1",className:"small-loader",style:{borderadius:"50%",height:"40px",width:"40px"},src:"//images.shiksha.ws/public/mobile5/images/ShikshaMobileLoader.gif"})):d.a.createElement("p",{className:"lyr-noRslt-div"},"Sorry! we can't reach Shiksha servers right now. ",d.a.createElement("br",null)," please try again later or check your connection"))))}),t.state={data:[],searchText:""},t.stateOpen=!1,t.scroll=0,t}return i()(a,[{key:"closePopUpLayer",value:function(){var e=this.props.goBack;void 0!==e&&!e||window.history.go(-1),E.a.enableScrolling(),this.props.onClose()}},{key:"closeLayer",value:function(){this.stateOpen=!1,E.a.enableScrolling(),this.props.onClose()}},{key:"beforeOpen",value:function(){!this.props.show||null!=window.history.state&&1==window.history.state.fullLayerOpened||(window.addEventListener("popstate",this.backHandle),window.history.pushState({fullLayerOpened:!0},null,null)),this.stateOpen||E.a.disableScrolling(),this.stateOpen=!0}},{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||t.searchText!==this.state.searchText||null==this.props.data||Object.keys(this.props.data).length!==Object.keys(e.data).length}},{key:"getInputValue",value:function(){this.setState({searchText:this.inputText.value.trim()})}},{key:"renderSearchTemplate",value:function(){var t=this,e=this.props.placeHolderText,n=this.props.captionMsg;return d.a.createElement("div",{className:"pwa-lyrSrc"+(n?" top83":""),key:"search-tab"},d.a.createElement("i",{className:"search-ico"}),d.a.createElement("input",{type:"text",placeholder:e,ref:function(e){return t.inputText=e},onChange:this.getInputValue.bind(this)}))}},{key:"renderCaptionMsg",value:function(){var e=this.props.captionMsg;return e&&""!=e&&d.a.createElement("p",{className:"hd-desc"},e)}},{key:"render",value:function(){var e=this.props.isInline;return this.props.show?(this.beforeOpen(),d.a.createElement(d.a.Fragment,null,e?g.a.createPortal(this.getLayerHtml(),document.getElementById("popup-container")):this.getLayerHtml())):(this.stateOpen&&(this.stateOpen=!1,E.a.removeClassName("disable-scroll")),null)}}]),a}(d.a.Component);n.propTypes={onClose:l.a.func.isRequired,show:l.a.bool,children:l.a.node,isAnchorLink:l.a.bool,isInline:l.a.bool,handleOptionClick:l.a.func,instructionText:l.a.any},n.defaultProps={isAnchorLink:!0,isInline:!1,instructionText:""};t.default=n},320:function(e,t,n){}}]);